# DRAKON Ğ†Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ĞµÑ€ - Ğ¨Ğ²Ğ¸Ğ´ĞºĞ¸Ğ¹ Ğ¡Ñ‚Ğ°Ñ€Ñ‚

**5 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½ Ğ´Ğ¾ Ğ¿ĞµÑ€ÑˆĞ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ**

---

## 1ï¸âƒ£ ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ñ–Ğ½ÑÑ‚Ğ°Ğ»ÑÑ†Ñ–Ñ—

```bash
cd /home/vokov/motia/tools/drakon/converter

# ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ Ñ‰Ğ¾ Ğ²ÑÑ– Ñ„Ğ°Ğ¹Ğ»Ğ¸ Ğ½Ğ° Ğ¼Ñ–ÑÑ†Ñ–
ls -la drakon_json_importer.py drakon_import_cli.py

# ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ drakon_tools.py
ls -la ../fix/drakon_tools.py
```

---

## 2ï¸âƒ£ Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ñƒ

```bash
# Ğ¨Ğ²Ğ¸Ğ´ĞºĞ¸Ğ¹ Ñ‚ĞµÑÑ‚ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ñ–
python3 test_importer.py
```

**ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:**
```
ğŸ‰ Ğ’Ğ¡Ğ† Ğ¢Ğ•Ğ¡Ğ¢Ğ˜ ĞŸĞ ĞĞ™Ğ”Ğ•ĞĞ Ğ£Ğ¡ĞŸĞ†Ğ¨ĞĞ!
```

---

## 3ï¸âƒ£ Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ– ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸

### Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ñƒ

```bash
python3 drakon_import_cli.py validate diagram.json
```

### Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ñ–Ñ—

```bash
python3 drakon_import_cli.py validate ../testing/ --batch
```

### Ğ†Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ğ· Ğ°Ğ²Ñ‚Ğ¾Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½ÑĞ¼

```bash
python3 drakon_import_cli.py import diagram.json
```

### Ğ’Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ´Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¸

```bash
python3 drakon_import_cli.py fix diagram.json
```

---

## 4ï¸âƒ£ Ğ©Ğ¾ Ñ€Ğ¾Ğ±Ğ¸Ñ‚ÑŒ Ñ–Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ĞµÑ€?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  diagram.json   â”‚  â† Ğ’Ñ…Ñ–Ğ´Ğ½Ğ° Ğ´Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñâ”‚  âœ… ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
    [ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ¸?]
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    ĞÑ–        Ğ¢Ğ°Ğº
    â”‚           â”‚
    â–¼           â–¼
[Ğ†Ğ¼Ğ¿Ğ¾Ñ€Ñ‚]   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ĞšĞ¾Ñ€ĞµĞºÑ†Ñ–Ñ  â”‚  ğŸ”§ ĞĞ²Ñ‚Ğ¾Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ
           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ diagram_fixed. â”‚  ğŸ’¾ Ğ’Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ´Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ°
        â”‚      json      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Ğ›Ğ¾Ğ³-Ñ„Ğ°Ğ¹Ğ»Ğ¸:    â”‚  ğŸ“ Ğ—Ğ²Ñ–Ñ‚Ğ¸
        â”‚  - validation  â”‚
        â”‚  - correction  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5ï¸âƒ£ ĞŸÑ€Ğ¸ĞºĞ»Ğ°Ğ´ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ

```bash
# Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ñ–Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñƒ Ğ´Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ñƒ Ğ· Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°Ğ¼Ğ¸
cat > test.json << 'EOF'
{
  "items": [
    {"type": "action", "text": "Do something"}
  ]
}
EOF

# Ğ¡Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ²Ğ°Ğ»Ñ–Ğ´ÑƒĞ²Ğ°Ñ‚Ğ¸
python3 drakon_import_cli.py validate test.json

# Ğ’Ğ¸Ğ²ĞµĞ´Ğµ:
# âŒ Ğ—Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸:
# 1. Ğ’Ñ–Ğ´ÑÑƒÑ‚Ğ½Ñ” Ğ¾Ğ±Ğ¾Ğ²'ÑĞ·ĞºĞ¾Ğ²Ğµ Ğ¿Ğ¾Ğ»Ğµ 'name'
# 2. Ğ’Ñ–Ğ´ÑÑƒÑ‚Ğ½Ñ” Ğ¾Ğ±Ğ¾Ğ²'ÑĞ·ĞºĞ¾Ğ²Ğµ Ğ¿Ğ¾Ğ»Ğµ 'access'
# 3. ĞŸĞ¾Ğ»Ğµ 'items' Ğ¿Ğ¾Ğ²Ğ¸Ğ½Ğ½Ğ¾ Ğ±ÑƒÑ‚Ğ¸ ÑĞ»Ğ¾Ğ²Ğ½Ğ¸ĞºĞ¾Ğ¼

# Ğ’Ğ¸Ğ¿Ñ€Ğ°Ğ²Ñ‚Ğµ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾
python3 drakon_import_cli.py fix test.json

# ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
cat test_fixed.json
cat test_correction.log
```

---

## 6ï¸âƒ£ Ğ ĞµĞ¶Ğ¸Ğ¼Ğ¸ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸

| Ğ ĞµĞ¶Ğ¸Ğ¼          | ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°    | Ğ©Ğ¾ Ñ€Ğ¾Ğ±Ğ¸Ñ‚ÑŒ                                    |
|----------------|------------|----------------------------------------------|
| **Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ**  | `validate` | ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ” Ğ´Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¸ (Ğ½Ğµ Ğ·Ğ¼Ñ–Ğ½ÑÑ” Ñ„Ğ°Ğ¹Ğ»Ğ¸)        |
| **Ğ’Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ**| `fix`      | Ğ¡Ñ‚Ğ²Ğ¾Ñ€ÑÑ” `_fixed.json` Ñ„Ğ°Ğ¹Ğ»Ğ¸                  |
| **Ğ†Ğ¼Ğ¿Ğ¾Ñ€Ñ‚**     | `import`   | Ğ’Ğ°Ğ»Ñ–Ğ´ÑƒÑ” + Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ” + ÑÑ‚Ğ²Ğ¾Ñ€ÑÑ” Ğ»Ğ¾Ğ³Ğ¸          |

---

## 7ï¸âƒ£ ĞĞ¿Ñ†Ñ–Ñ— CLI

### Batch-Ñ€ĞµĞ¶Ğ¸Ğ¼
```bash
--batch    # ĞĞ±Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ Ğ²ÑÑ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ñ–Ñ
```

### Ğ¡Ñ‚Ñ€Ğ¾Ğ³Ğ¸Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼
```bash
--strict   # ĞĞµ Ñ–Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ½ĞµĞ²Ğ°Ğ»Ñ–Ğ´Ğ½Ñ– Ğ´Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¸
```

### Ğ’Ğ¸Ğ¼ĞºĞ½ÑƒÑ‚Ğ¸ Ğ°Ğ²Ñ‚Ğ¾ĞºĞ¾Ñ€ĞµĞºÑ†Ñ–Ñ
```bash
--no-fix   # Ğ¢Ñ–Ğ»ÑŒĞºĞ¸ Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ, Ğ±ĞµĞ· Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½ÑŒ
```

### Ğ‘ĞµĞ· Ğ»Ğ¾Ğ³Ñ–Ğ²
```bash
--no-logs  # ĞĞµ ÑÑ‚Ğ²Ğ¾Ñ€ÑĞ²Ğ°Ñ‚Ğ¸ Ğ»Ğ¾Ğ³-Ñ„Ğ°Ğ¹Ğ»Ğ¸
```

### Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ²Ğ¸Ğ²Ñ–Ğ´
```bash
--verbose  # ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ Ğ²ÑÑ– Ğ´ĞµÑ‚Ğ°Ğ»Ñ–
```

---

## 8ï¸âƒ£ Python API

```python
from pathlib import Path
from drakon_json_importer import DrakonJSONImporter

# Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ñ–Ñ‚ÑŒ Ñ–Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ĞµÑ€
importer = DrakonJSONImporter(auto_fix=True)

# Ğ†Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ÑƒĞ¹Ñ‚Ğµ Ğ´Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ñƒ
diagram, was_corrected = importer.import_diagram(
    Path("diagram.json"),
    save_logs=True
)

# ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
if diagram:
    print("âœ… Ğ£ÑĞ¿Ñ–ÑˆĞ½Ğ¾!")
    if was_corrected:
        print("ğŸ”§ Ğ”Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ° Ğ±ÑƒĞ»Ğ° Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ°")
```

---

## 9ï¸âƒ£ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ²Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²

```
diagrams/
â”œâ”€â”€ my-diagram.json              # ĞÑ€Ğ¸Ğ³Ñ–Ğ½Ğ°Ğ» (Ğ½Ğµ Ğ·Ğ¼Ñ–Ğ½ÑÑ”Ñ‚ÑŒÑÑ)
â”œâ”€â”€ my-diagram_fixed.json        # Ğ’Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ²ĞµÑ€ÑÑ–Ñ
â”œâ”€â”€ my-diagram_validation.log    # Ğ—Ğ²Ñ–Ñ‚ Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ—
â””â”€â”€ my-diagram_correction.log    # Ğ—Ğ²Ñ–Ñ‚ ĞºĞ¾Ñ€ĞµĞºÑ†Ñ–Ñ—
```

---

## ğŸ”Ÿ Ğ”Ğ¾Ğ²Ñ–Ğ´ĞºĞ°

```bash
# Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ° Ğ´Ğ¾Ğ²Ñ–Ğ´ĞºĞ°
python3 drakon_import_cli.py --help

# Ğ”Ğ¾Ğ²Ñ–Ğ´ĞºĞ° Ğ¿Ğ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ–
python3 drakon_import_cli.py import --help
python3 drakon_import_cli.py validate --help
python3 drakon_import_cli.py fix --help
```

---

## ğŸ“š Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ

- **ĞŸĞ¾Ğ²Ğ½Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ:** `IMPORTER_README.md`
- **Ğ—Ğ²Ñ–Ñ‚ Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ—:** `INTEGRATION_REPORT.md`
- **Ğ¢ĞµÑÑ‚Ğ¸:** `test_importer.py`

---

## ğŸ› ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ¸?

### ModuleNotFoundError: drakon_tools

```bash
# ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ Ñ‰Ğ¾ Ñ„Ğ°Ğ¹Ğ» Ñ–ÑĞ½ÑƒÑ”
ls ../fix/drakon_tools.py

# Ğ¯ĞºÑ‰Ğ¾ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾, Ğ²ĞºĞ°Ğ¶Ñ–Ñ‚ÑŒ ÑˆĞ»ÑÑ… Ñƒ drakon_json_importer.py:
# sys.path.insert(0, '/Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹/ÑˆĞ»ÑÑ…/Ğ´Ğ¾/fix')
```

### Ğ¤Ğ°Ğ¹Ğ»Ğ¸ Ğ½Ğµ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ÑÑÑ‚ÑŒÑÑ Ğ² batch

```bash
# ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ glob-Ğ¿Ğ°Ñ‚ĞµÑ€Ğ½
ls diagrams/*.json

# _fixed Ñ„Ğ°Ğ¹Ğ»Ğ¸ Ñ–Ğ³Ğ½Ğ¾Ñ€ÑƒÑÑ‚ÑŒÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾
ls diagrams/*_fixed.json
```

---

## âš¡ Ğ¨Ğ²Ğ¸Ğ´ĞºÑ– ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸

```bash
# ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸ Ğ²ÑĞµ Ğ² testing/
python3 drakon_import_cli.py validate ../testing/ --batch

# Ğ’Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚Ğ¸ Ğ²ÑĞµ Ğ² testing/
python3 drakon_import_cli.py fix ../testing/ --batch

# Ğ†Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ· Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¼ Ğ²Ğ¸Ğ²Ğ¾Ğ´Ğ¾Ğ¼
python3 drakon_import_cli.py import diagram.json --verbose
```

---

**Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾! ĞœĞ¾Ğ¶Ğ½Ğ° Ğ¿Ñ€Ğ°Ñ†ÑĞ²Ğ°Ñ‚Ğ¸! ğŸš€**

Ğ”Ğ»Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ñ— Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ— Ğ´Ğ¸Ğ²Ñ–Ñ‚ÑŒÑÑ `IMPORTER_README.md`
