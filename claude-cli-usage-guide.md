# üéØ –¢—Ä–∏—Å—Ç—É–ø–µ–Ω–µ–≤–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ Claude CLI –¥–ª—è Motia Steps

## –ö–æ–Ω—Ü–µ–ø—Ü—ñ—è

–î–ª—è –ø–æ–≤–Ω–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó Motia –∫—Ä–æ–∫—ñ–≤ –∑ –î–†–ê–ö–û–ù –¥—ñ–∞–≥—Ä–∞–º–∞–º–∏ —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é –ø–∞–ø–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **—Ç—Ä–∏—Å—Ç—É–ø–µ–Ω–µ–≤–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç—ñ–≤**:

```
CLAUDE.md (–ë–∞–∑–æ–≤–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)
    ‚Üì
patterns/{pattern}-pattern.md (–ü–∞—Ç–µ—Ä–Ω-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π)
    ‚Üì
step-descriptions/{step}-description.md (–ü–æ–≤–Ω–∏–π –æ–ø–∏—Å –∫—Ä–æ–∫—É)
    ‚Üì
Claude CLI –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è ‚Üí –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É

```
motia-project/
‚îú‚îÄ‚îÄ CLAUDE.md                           # –ë–∞–∑–æ–≤–∏–π Motia –∫–æ–Ω—Ç–µ–∫—Å—Ç
‚îú‚îÄ‚îÄ patterns/                           # –ü–∞—Ç–µ—Ä–Ω-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ observer-pattern.md
‚îÇ   ‚îú‚îÄ‚îÄ command-pattern.md
‚îÇ   ‚îú‚îÄ‚îÄ strategy-pattern.md
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ step-descriptions/                  # –ü–æ–≤–Ω—ñ –æ–ø–∏—Å–∏ –∫—Ä–æ–∫—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ user-processor-description.md
‚îÇ   ‚îú‚îÄ‚îÄ order-creator-description.md
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ generated-steps/                    # –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –∫—Ä–æ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ user-processor/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handler.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ diagrams/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logic-flow.drakon
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ error-handling.drakon
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data-processing.drakon
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ state-transitions.drakon
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ create-step-description.sh          # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ–ø–∏—Å—ñ–≤
‚îî‚îÄ‚îÄ full-generate-motia-step.sh        # –ü–æ–≤–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è
```

---

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–ø–∏—Å—É –∫—Ä–æ–∫—É

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è step-description.md —Ñ–∞–π–ª—É
./create-step-description.sh user-processor event observer "–û–±—Ä–æ–±–ª—è—î —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î welcome email" typescript
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è `step-descriptions/user-processor-description.md` –∑ –ø–æ–≤–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é:
- –°—Ö–µ–º–∏ –î–†–ê–ö–û–ù –¥—ñ–∞–≥—Ä–∞–º
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Motia
- JSON —Å—Ö–µ–º–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó  
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ —Ç–∞ —Ñ–∞–π–ª—ñ–≤
- –¢–µ—Å—Ç–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏

### 2. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–æ–¥—É —á–µ—Ä–µ–∑ Claude CLI

#### –†—É—á–Ω–∏–π —Å–ø–æ—Å—ñ–± (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å):
```bash
claude --append-system-prompt "$(cat CLAUDE.md)" \
       --append-system-prompt "$(cat patterns/observer-pattern.md)" \
       -p "$(cat step-descriptions/user-processor-description.md)"
```

#### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π —Å–ø–æ—Å—ñ–± (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π):
```bash
./full-generate-motia-step.sh user-processor event observer "–û–±—Ä–æ–±–ª—è—î —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤" typescript
```

---

## üìã –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–º–∞–Ω–¥

### Observer Pattern (Event Step)
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–ø–∏—Å—É
./create-step-description.sh user-lifecycle event observer "–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î –∑–∞ lifecycle –ø–æ–¥—ñ—è–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞" typescript

# –ü–æ–≤–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è
./full-generate-motia-step.sh user-lifecycle event observer "–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î –∑–∞ lifecycle –ø–æ–¥—ñ—è–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞"

# –†—É—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
claude --append-system-prompt "$(cat CLAUDE.md)" \
       --append-system-prompt "$(cat patterns/observer-pattern.md)" \
       --verbose \
       -p "$(cat step-descriptions/user-lifecycle-description.md)

–î–û–î–ê–¢–ö–û–í–Ü –í–ò–ú–û–ì–ò:
- –í–∫–ª—é—á–∏ retry –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è failed events
- –î–æ–¥–∞–π metrics collection –¥–ª—è observability
- –°—Ç–≤–æ—Ä–∏ comprehensive error handling"
```

### Command Pattern (API Step)  
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è CRUD API –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
./full-generate-motia-step.sh order-manager api command "CRUD API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏ –∑ –ø–æ–≤–Ω–æ—é –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é" python

# –†–µ–∑—É–ª—å—Ç–∞—Ç: generated-steps/order-manager/ –∑ —É—Å—ñ–º–∞ —Ñ–∞–π–ª–∞–º–∏
```

### Strategy Pattern (Event Step)
```bash
# –°–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è–º–∏
./full-generate-motia-step.sh notification-sender event strategy "–í—ñ–¥–ø—Ä–∞–≤–ª—è—î —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —á–µ—Ä–µ–∑ email, SMS –∞–±–æ push" typescript
```

### Chain of Responsibility (Stream Step)
```bash
# Pipeline –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö
./full-generate-motia-step.sh data-validator stream chain "–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ –ª–∞–Ω—Ü—é–≥ –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫" typescript
```

---

## üé® –°—Ç—Ä—É–∫—Ç—É—Ä–∞ step-description.md

–ö–æ–∂–µ–Ω –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π `step-description.md` –º—ñ—Å—Ç–∏—Ç—å:

### üìã –°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—é –∫—Ä–æ–∫—É
- –¢–∏–ø –∫—Ä–æ–∫—É (api/event/cron/stream)
- –ü–∞—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è
- –ú–æ–≤—É –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è
- –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –æ–ø–∏—Å

### üé® –î–†–ê–ö–û–ù –¥—ñ–∞–≥—Ä–∞–º–∏ —É —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ
```
–ó–ê–ì–û–õ–û–í–û–ö: user-processor - –û—Å–Ω–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫
‚îú‚îÄ –ü–û–ß–ê–¢–û–ö
‚îú‚îÄ –î–Ü–Ø: –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îú‚îÄ –£–ú–û–í–ê: Email –≤–∞–ª—ñ–¥–Ω–∏–π?
‚îÇ  ‚îú‚îÄ –¢–ê–ö ‚Üí –î–Ü–Ø: –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îÇ  ‚îî‚îÄ –ù–Ü ‚Üí –î–Ü–Ø: –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–æ–º–∏–ª–∫—É
‚îú‚îÄ –î–Ü–Ø: –ï–º—ñ—Ç—É–≤–∞—Ç–∏ user.created
‚îî‚îÄ –ö–Ü–ù–ï–¶–¨
```

### üîß –®–∞–±–ª–æ–Ω–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
- TypeScript/Python handler –∫–æ–¥
- Motia –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- JSON —Å—Ö–µ–º–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- –¢–µ—Å—Ç–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏

### üöÄ –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- –ó–∞–ø—É—Å–∫ –∫—Ä–æ–∫—É
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥—ñ–≤
- –¢—Ä–µ–π—Å–∏–Ω–≥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

---

## üéØ –ü–µ—Ä–µ–≤–∞–≥–∏ –ø—ñ–¥—Ö–æ–¥—É

### 1. **–ü–æ–≤–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è**
–û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç —Å—Ç–≤–æ—Ä—é—î –≤—Å—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫—Ä–æ–∫—É –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é

### 2. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å**
–í—Å—ñ –∫—Ä–æ–∫–∏ –¥–æ—Ç—Ä–∏–º—É—é—Ç—å—Å—è —î–¥–∏–Ω–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ñ–≤ Motia

### 3. **–í—ñ–∑—É–∞–ª—å–Ω–µ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è**  
–î–†–ê–ö–û–ù –¥—ñ–∞–≥—Ä–∞–º–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –∑—Ä–æ–∑—É–º—ñ–ª—ñ—Å—Ç—å –ª–æ–≥—ñ–∫–∏

### 4. **–ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å**
–ö–æ–∂–µ–Ω —Ä—ñ–≤–µ–Ω—å –ø—Ä–æ–º–ø—Ç—É –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ

### 5. **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å**
–õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –ø–∞—Ç–µ—Ä–Ω–∏ —Ç–∞ —Ç–∏–ø–∏ –∫—Ä–æ–∫—ñ–≤

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ç–µ—Ä–Ω—É
1. –°—Ç–≤–æ—Ä—ñ—Ç—å `patterns/new-pattern.md` –∑ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏
2. –ú–æ–¥–∏—Ñ—ñ–∫—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –Ω–æ–≤–æ–≥–æ –ø–∞—Ç–µ—Ä–Ω—É
3. –î–æ–¥–∞–π—Ç–µ –ø—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è —à–∞–±–ª–æ–Ω—ñ–≤
–ú–æ–¥–∏—Ñ—ñ–∫—É–π—Ç–µ `step-description-template.md` –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è:
- –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏—Ö –î–†–ê–ö–û–ù –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
- –î–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –ö–∞—Å—Ç–æ–º–Ω–∏—Ö —Ç–µ—Å—Ç–æ–≤–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ CI/CD
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤ pipeline
./full-generate-motia-step.sh $STEP_NAME $STEP_TYPE $PATTERN "$DESCRIPTION"
npm test generated-steps/$STEP_NAME/
```

---

–¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø–æ–≤–Ω—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—é —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏—Ö, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∏—Ö —Ç–∞ —Ç–µ—Å—Ç–æ–≤–∞–Ω–∏—Ö Motia –∫—Ä–æ–∫—ñ–≤ –∑ –≤—ñ–∑—É–∞–ª—å–Ω–∏–º –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è–º –î–†–ê–ö–û–ù –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–∞—Ç–µ—Ä–Ω—É –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è.