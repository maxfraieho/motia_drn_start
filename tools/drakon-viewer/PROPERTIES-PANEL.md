# Properties Panel - –ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –†–µ–¥–∞–∫—Ç–æ—Ä DRAKON

## –û–≥–ª—è–¥

–°—Ç–≤–æ—Ä–µ–Ω–æ –ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—É –ø—Ä–∞–≤–æ–≤—É –±–æ–∫–æ–≤—É –ø–∞–Ω–µ–ª—å –∑ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –¥—ñ–∞–≥—Ä–∞–º–∞–º–∏.

## ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### 1. **–ü–∞–ª—ñ—Ç—Ä–∞ –Ü–∫–æ–Ω–æ–∫** (Icon Palette)

**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** –í–µ—Ä—Ö–Ω—è —Å–µ–∫—Ü—ñ—è Properties Panel

**–Ü–∫–æ–Ω–∫–∏:**
- **‚ñ≠** Action - –î—ñ—è/–æ–ø–µ—Ä–∞—Ü—ñ—è
- **‚óá** Question - –ü–∏—Ç–∞–Ω–Ω—è/—É–º–æ–≤–∞
- **‚ëÇ** Branch - –†–æ–∑–≥–∞–ª—É–∂–µ–Ω–Ω—è
- **‚•Å** Loop Begin - –ü–æ—á–∞—Ç–æ–∫ —Ü–∏–∫–ª—É
- **‚•Ä** Loop End - –ö—ñ–Ω–µ—Ü—å —Ü–∏–∫–ª—É
- **‚óè** End - –ö—ñ–Ω–µ—Ü—å

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
- **–ö–ª—ñ–∫** –Ω–∞ —ñ–∫–æ–Ω–∫—É ‚Üí –¥–æ–¥–∞—î –≤—É–∑–æ–ª –¥–æ –¥—ñ–∞–≥—Ä–∞–º–∏
- **Draggable** (–≥–æ—Ç–æ–≤–æ –¥–ª—è drag & drop)
- Hover –µ—Ñ–µ–∫—Ç–∏ —Ç–∞ –∞–Ω—ñ–º–∞—Ü—ñ—ó
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞ —Å—ñ—Ç–∫–∞ (2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ desktop, 3 –Ω–∞ mobile)

### 2. **–§–∞–π–ª–æ–≤—ñ –û–ø–µ—Ä–∞—Ü—ñ—ó** (File Operations)

**–ö–Ω–æ–ø–∫–∏:**

| –ö–Ω–æ–ø–∫–∞ | –§—É–Ω–∫—Ü—ñ—è | –°–∫–æ—Ä–æ—á–µ–Ω–Ω—è |
|--------|---------|------------|
| üìÑ –ù–æ–≤–∞ –¥—ñ–∞–≥—Ä–∞–º–∞ | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É | Ctrl+N |
| üìÇ –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª | –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ JSON | - |
| üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ | –ó–±–µ—Ä–µ–≥—Ç–∏ —è–∫ JSON | Ctrl+S |
| üì• –ï–∫—Å–ø–æ—Ä—Ç JSON | –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ JSON | - |
| üñºÔ∏è –ï–∫—Å–ø–æ—Ä—Ç PNG | (–ú–∞–π–±—É—Ç–Ω—î) | - |

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**

#### üìÑ –ù–æ–≤–∞ –¥—ñ–∞–≥—Ä–∞–º–∞
```javascript
// –°—Ç–≤–æ—Ä—é—î –±–∞–∑–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
{
  name: "User Input",
  items: {
    "1": { type: "action", content: "–ü–æ—á–∞—Ç–æ–∫", one: "2" },
    "2": { type: "end" }
  }
}
```
- Prompt –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è –Ω–∞–∑–≤–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –±–∞–∑–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Start ‚Üí End)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π edit mode

#### üìÇ –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª
- –ö–ª—ñ–∫ ‚Üí file picker –¥–ª—è `.json` —Ñ–∞–π–ª—ñ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–∞—Ä—Å–∏–Ω–≥ —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤ state manager
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥—ñ–∞–≥—Ä–∞–º–∏

#### üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ / üì• –ï–∫—Å–ø–æ—Ä—Ç JSON
- –ï–∫—Å–ø–æ—Ä—Ç –ø–æ—Ç–æ—á–Ω–æ—ó –¥—ñ–∞–≥—Ä–∞–º–∏ —è–∫ JSON
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —ñ–º'—è —Ñ–∞–π–ª—É: `{diagram.name}.json`
- Pretty-print –∑ indent=2
- Browser download

### 3. **–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –í—É–∑–ª–∞** (Node Properties)

**–ü–æ–∫–∞–∑—É—î—Ç—å—Å—è:** –ö–æ–ª–∏ –≤—É–∑–æ–ª –≤–∏–¥—ñ–ª–µ–Ω–æ (–∫–ª—ñ–∫ –Ω–∞ –≤—É–∑–æ–ª)

**–ü–æ–ª—è:**
- **ID** - –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä (readonly)
- **–¢–∏–ø** - Dropdown –∑ —Ç–∏–ø–∞–º–∏ –≤—É–∑–ª—ñ–≤
- **–ö–æ–Ω—Ç–µ–Ω—Ç** - Textarea –¥–ª—è —Ç–µ–∫—Å—Ç—É
- **Branch ID** - –ù–æ–º–µ—Ä –≥—ñ–ª–∫–∏ (silhouette)

**–ö–Ω–æ–ø–∫–∏:**
- **–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏** - –ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏
- **–í–∏–¥–∞–ª–∏—Ç–∏** - –í–∏–¥–∞–ª–∏—Ç–∏ –≤—É–∑–æ–ª

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
```javascript
// Auto-sync –∑ selected item
stateManager.on('selectionChange', updatePropertiesPanel)

// Apply changes
stateManager.updateItem(id, {
  type: propType.value,
  content: propContent.value,
  branchId: parseInt(propBranch.value)
})
```

### 4. **–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –î—ñ–∞–≥—Ä–∞–º—É** (Diagram Info)

**–í—ñ–¥–æ–±—Ä–∞–∂–∞—î:**
- **–î—ñ–∞–≥—Ä–∞–º–∞:** –ù–∞–∑–≤–∞ –ø–æ—Ç–æ—á–Ω–æ—ó –¥—ñ–∞–≥—Ä–∞–º–∏
- **–í—É–∑–ª—ñ–≤:** –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤—É–∑–ª—ñ–≤
- **–†–µ–∂–∏–º:** –ü–µ—Ä–µ–≥–ª—è–¥ / –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

**Auto-update:** –ü—Ä–∏ –±—É–¥—å-—è–∫–∏—Ö –∑–º—ñ–Ω–∞—Ö —á–µ—Ä–µ–∑ state manager events

### 5. **Toggle –ö–Ω–æ–ø–∫–∞**

**–§—É–Ω–∫—Ü—ñ—è:** –ó–≥–æ—Ä—Ç–∞–Ω–Ω—è/—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –ø–∞–Ω–µ–ª—ñ

**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** –í –∑–∞–≥–æ–ª–æ–≤–∫—É –ø–∞–Ω–µ–ª—ñ (‚óÄ)

**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:**
- Desktop: Slide out –≤–ø—Ä–∞–≤–æ
- Mobile: Bottom drawer

## üéØ –Ø–∫ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ù–æ–≤–æ—ó –î—ñ–∞–≥—Ä–∞–º–∏

**–ú–µ—Ç–æ–¥ 1: –ó –ø–∞–Ω–µ–ª—ñ**
```
1. –ö–ª—ñ–∫ "üìÑ –ù–æ–≤–∞ –¥—ñ–∞–≥—Ä–∞–º–∞"
2. –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É ‚Üí "User Login"
3. –ü–∞–Ω–µ–ª—å –ø–∞–ª—ñ—Ç—Ä–∏ —Ç–µ–ø–µ—Ä –∞–∫—Ç–∏–≤–Ω–∞
4. –ö–ª—ñ–∫ –Ω–∞ —ñ–∫–æ–Ω–∫–∏ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤—É–∑–ª—ñ–≤
```

**–ú–µ—Ç–æ–¥ 2: –ó toolbar**
```
1. Ctrl+N –∞–±–æ –∫–Ω–æ–ø–∫–∞ "üìÑ –ù–æ–≤–∞"
2. –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ toolbar –∫–Ω–æ–ø–∫–∏ –∞–±–æ –ø–∞–Ω–µ–ª—å
```

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –í—É–∑–ª—ñ–≤

**–ó –ø–∞–ª—ñ—Ç—Ä–∏ —ñ–∫–æ–Ω–æ–∫:**
```
1. –ö–ª—ñ–∫ ‚ñ≠ ‚Üí –î–æ–¥–∞—î Action
2. –ö–ª—ñ–∫ ‚óá ‚Üí –î–æ–¥–∞—î Question
3. –ö–ª—ñ–∫ ‚ëÇ ‚Üí –î–æ–¥–∞—î Branch
... —ñ —Ç.–¥.
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º –≤—É–∑–ª–æ–º
- Placeholder text
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥—ñ–∞–≥—Ä–∞–º–∏

### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –í—É–∑–ª–∞

**–ú–µ—Ç–æ–¥ 1: Properties Panel**
```
1. –ö–ª—ñ–∫ –Ω–∞ –≤—É–∑–æ–ª ‚Üí –≤–∏–¥—ñ–ª–µ–Ω–Ω—è
2. Properties Panel –ø–æ–∫–∞–∑—É—î —Ñ–æ—Ä–º—É
3. –†–µ–¥–∞–≥—É–π—Ç–µ –ø–æ–ª—è
4. "–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏" ‚Üí –∑–±–µ—Ä–µ–≥—Ç–∏
```

**–ú–µ—Ç–æ–¥ 2: Modal (–ø–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫)**
```
1. –ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫ –Ω–∞ –≤—É–∑–æ–ª
2. Modal –≤—ñ–∫–Ω–æ
3. –†–µ–¥–∞–≥—É–π—Ç–µ
4. "–ó–±–µ—Ä–µ–≥—Ç–∏"
```

### –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –Ü—Å–Ω—É—é—á–æ—ó –î—ñ–∞–≥—Ä–∞–º–∏

**–ó –ø–∞–Ω–µ–ª—ñ:**
```
1. –ö–ª—ñ–∫ "üìÇ –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª"
2. –í–∏–±–µ—Ä—ñ—Ç—å .json —Ñ–∞–π–ª
3. –î—ñ–∞–≥—Ä–∞–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞
```

**–ó –ª—ñ–≤–æ–≥–æ sidebar:**
```
1. –ö–ª—ñ–∫ –Ω–∞ –¥—ñ–∞–≥—Ä–∞–º—É –∑—ñ —Å–ø–∏—Å–∫—É
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
```

### –ï–∫—Å–ø–æ—Ä—Ç/–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è

**–ï–∫—Å–ø–æ—Ä—Ç JSON:**
```
1. –ö–ª—ñ–∫ "üì• –ï–∫—Å–ø–æ—Ä—Ç JSON"
2. –§–∞–π–ª –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è: "diagram-name.json"
```

**–ó–±–µ—Ä–µ–≥—Ç–∏ (–∑ toolbar):**
```
1. Ctrl+S –∞–±–æ "üíæ –ó–±–µ—Ä–µ–≥—Ç–∏"
2. –ï–∫—Å–ø–æ—Ä—Ç —è–∫ JSON
```

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### Event Flow

```
User Action (Panel)
    ‚Üì
Event Handler
    ‚Üì
State Manager
    ‚Üì
State Change Event
    ‚Üì
Update UI (Info, Properties)
    ‚Üì
Reload Diagram
```

### State Manager Integration

```javascript
// Listen to changes
stateManager.on('stateChange', updateDiagramInfo)
stateManager.on('selectionChange', updatePropertiesPanel)
stateManager.on('modeChange', updateDiagramInfo)

// Update on any change
function updateDiagramInfo() {
  infoName.textContent = diagram.name
  infoNodes.textContent = itemCount
  infoMode.textContent = editMode ? '–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è' : '–ü–µ—Ä–µ–≥–ª—è–¥'
}
```

## üì± Responsive Design

### Desktop (‚â• 768px)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Sidebar ‚îÇ   Canvas     ‚îÇ Properties ‚îÇ
‚îÇ (Left)  ‚îÇ   (Center)   ‚îÇ   Panel    ‚îÇ
‚îÇ         ‚îÇ              ‚îÇ  (Right)   ‚îÇ
‚îÇ 300px   ‚îÇ   Flexible   ‚îÇ   320px    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Mobile (< 768px)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Toolbar         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                      ‚îÇ
‚îÇ      Canvas          ‚îÇ
‚îÇ                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Properties Panel    ‚îÇ
‚îÇ  (Bottom Drawer)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Mobile –ø–æ–≤–µ–¥—ñ–Ω–∫–∞:**
- Properties Panel —è–∫ bottom drawer
- Swipe up/down –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è/–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- Toggle button –∑–∞–≤–∂–¥–∏ –≤–∏–¥–∏–º–∏–π
- Icon palette: 3 –∫–æ–ª–æ–Ω–∫–∏ –∑–∞–º—ñ—Å—Ç—å 2

## üé® UI/UX Features

### Hover Effects
- Icon items: `translateY(-2px)` + border highlight
- Buttons: Background change + border accent
- Smooth transitions: `0.2s`

### Animations
- Panel slide: `transform` transition
- Toggle rotation: `rotate(180deg)`
- Button scale on click: `scale(0.95)`

### Color Scheme
```css
--bg-color: #1a1b26      /* Dark background */
--sidebar-bg: #24283b    /* Panel background */
--text-color: #c0caf5    /* Main text */
--header-color: #a9b1d6  /* Headers */
--accent-color: #7aa2f7  /* Accent/active */
--hover-bg: #414868      /* Hover state */
--border-color: #414868  /* Borders */
```

## üìä –î—ñ–∞–≥—Ä–∞–º–∞ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

```
Properties Panel
‚îú‚îÄ‚îÄ Panel Header
‚îÇ   ‚îú‚îÄ‚îÄ Title: "–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏"
‚îÇ   ‚îî‚îÄ‚îÄ Toggle Button ‚óÄ
‚îÇ
‚îú‚îÄ‚îÄ Icon Palette Section
‚îÇ   ‚îî‚îÄ‚îÄ Grid (2x3 icons)
‚îÇ       ‚îú‚îÄ‚îÄ Action ‚ñ≠
‚îÇ       ‚îú‚îÄ‚îÄ Question ‚óá
‚îÇ       ‚îú‚îÄ‚îÄ Branch ‚ëÇ
‚îÇ       ‚îú‚îÄ‚îÄ Loop Begin ‚•Å
‚îÇ       ‚îú‚îÄ‚îÄ Loop End ‚•Ä
‚îÇ       ‚îî‚îÄ‚îÄ End ‚óè
‚îÇ
‚îú‚îÄ‚îÄ File Operations Section
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ –ù–æ–≤–∞ –¥—ñ–∞–≥—Ä–∞–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª
‚îÇ   ‚îú‚îÄ‚îÄ üíæ –ó–±–µ—Ä–µ–≥—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ üì• –ï–∫—Å–ø–æ—Ä—Ç JSON
‚îÇ   ‚îî‚îÄ‚îÄ üñºÔ∏è –ï–∫—Å–ø–æ—Ä—Ç PNG (disabled)
‚îÇ
‚îú‚îÄ‚îÄ Node Properties Section (conditional)
‚îÇ   ‚îú‚îÄ‚îÄ ID (readonly)
‚îÇ   ‚îú‚îÄ‚îÄ Type (select)
‚îÇ   ‚îú‚îÄ‚îÄ Content (textarea)
‚îÇ   ‚îú‚îÄ‚îÄ Branch ID (number)
‚îÇ   ‚îî‚îÄ‚îÄ Actions
‚îÇ       ‚îú‚îÄ‚îÄ –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏
‚îÇ       ‚îî‚îÄ‚îÄ –í–∏–¥–∞–ª–∏—Ç–∏
‚îÇ
‚îî‚îÄ‚îÄ Diagram Info Section
    ‚îú‚îÄ‚îÄ –î—ñ–∞–≥—Ä–∞–º–∞: {name}
    ‚îú‚îÄ‚îÄ –í—É–∑–ª—ñ–≤: {count}
    ‚îî‚îÄ‚îÄ –†–µ–∂–∏–º: {mode}
```

## üîß API Reference

### Panel Functions

```javascript
// Toggle panel
togglePropertiesPanel()

// Update info display
updateDiagramInfo()

// Update properties form
updatePropertiesPanel()

// Apply properties changes
applyPropertiesChanges()

// File operations
openFile()
handleFileOpen(event)
exportDiagramAsJson()
```

### Event Handlers

```javascript
// Icon palette
document.querySelectorAll('.icon-item').forEach(item => {
  item.addEventListener('click', () => addNode(type))
})

// Properties panel
panelToggle.addEventListener('click', togglePropertiesPanel)
panelNewBtn.addEventListener('click', createNewDiagram)
panelOpenBtn.addEventListener('click', openFile)
panelSaveBtn.addEventListener('click', saveDiagram)
panelExportJsonBtn.addEventListener('click', exportDiagramAsJson)
fileInput.addEventListener('change', handleFileOpen)
propApply.addEventListener('click', applyPropertiesChanges)
propDelete.addEventListener('click', deleteSelectedNode)
```

## üöÄ Workflow Examples

### –ü—Ä–∏–∫–ª–∞–¥ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –î—ñ–∞–≥—Ä–∞–º–∏ –∑ –ù—É–ª—è

```
1. –ö–ª—ñ–∫ "üìÑ –ù–æ–≤–∞ –¥—ñ–∞–≥—Ä–∞–º–∞" ‚Üí "Order Processing"
2. –ö–ª—ñ–∫ ‚ñ≠ ‚Üí "Receive order"
3. –ö–ª—ñ–∫ ‚óá ‚Üí "Is valid?"
4. –ö–ª—ñ–∫ –Ω–∞ "Is valid?" ‚Üí Properties Panel
5. –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ content: "Check inventory"
6. "–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏"
7. –ö–ª—ñ–∫ ‚ñ≠ ‚Üí "Process payment"
8. –ö–ª—ñ–∫ ‚óè ‚Üí "End"
9. Ctrl+S ‚Üí –ó–±–µ—Ä–µ–≥—Ç–∏
```

### –ü—Ä–∏–∫–ª–∞–¥ 2: –í—ñ–¥–∫—Ä–∏—Ç—Ç—è —Ç–∞ –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

```
1. –ö–ª—ñ–∫ "üìÇ –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª"
2. –í–∏–±—Ä–∞—Ç–∏ "my-flow.json"
3. –î—ñ–∞–≥—Ä–∞–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞
4. –ö–ª—ñ–∫ "‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏"
5. –ö–ª—ñ–∫ –Ω–∞ –≤—É–∑–æ–ª ‚Üí Properties Panel
6. –ó–º—ñ–Ω–∏—Ç–∏ —Ç–∏–ø: Action ‚Üí Question
7. "–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏"
8. –ö–ª—ñ–∫ "üì• –ï–∫—Å–ø–æ—Ä—Ç JSON"
```

### –ü—Ä–∏–∫–ª–∞–¥ 3: –®–≤–∏–¥–∫–µ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è

```
Keyboard-driven workflow:
1. Ctrl+N ‚Üí Name ‚Üí Enter
2. –ö–ª—ñ–∫ ‚ñ≠ (Action)
3. –ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫ ‚Üí Edit content
4. –ö–ª—ñ–∫ ‚óá (Question)
5. –ö–ª—ñ–∫ ‚óè (End)
6. Ctrl+S ‚Üí Save
```

## üí° Tips & Tricks

### –®–≤–∏–¥–∫–µ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
- –ö–ª—ñ–∫ –Ω–∞ –≤—É–∑–æ–ª ‚Üí Properties Panel (—à–≤–∏–¥–∫–æ)
- –ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫ ‚Üí Modal (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –ù–∞–≤—ñ–≥–∞—Ü—ñ—è
- `‚óÄ` –∫–Ω–æ–ø–∫–∞ –¥–ª—è –±—ñ–ª—å—à–µ –ø—Ä–æ—Å—Ç–æ—Ä—É
- Mobile: Swipe –¥–ª—è panel

### Workflow
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑—É (Start ‚Üí End)
2. –î–æ–¥–∞–≤–∞—Ç–∏ –≤—É–∑–ª–∏ –º—ñ–∂ –Ω–∏–º–∏
3. –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ properties
4. –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ —á–∞—Å—Ç–æ (Ctrl+S)

## üêõ –í—ñ–¥–æ–º—ñ –û–±–º–µ–∂–µ–Ω–Ω—è

1. **PNG Export** - –ü–æ–∫–∏ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ (requires canvas export)
2. **Drag & Drop** - –Ü–∫–æ–Ω–∫–∏ draggable, –∞–ª–µ drop zone –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
3. **–ü–æ–∑–∏—Ü—ñ—é–≤–∞–Ω–Ω—è** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ, –∫–æ–Ω—Ç—Ä–æ–ª—é—î—Ç—å—Å—è drakonwidget
4. **Backend** - –¢—ñ–ª—å–∫–∏ local file operations, –Ω–µ–º–∞—î server sync

## üîú –ú–∞–π–±—É—Ç–Ω—ñ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è

1. **LocalStorage** - Auto-save –≤ browser
2. **Recent Files** - –°–ø–∏—Å–æ–∫ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –¥—ñ–∞–≥—Ä–∞–º
3. **Templates** - –ì–æ—Ç–æ–≤—ñ —à–∞–±–ª–æ–Ω–∏ –¥—ñ–∞–≥—Ä–∞–º
4. **PNG Export** - Canvas to image
5. **Drag & Drop** - –ó –ø–∞–ª—ñ—Ç—Ä–∏ –Ω–∞ canvas
6. **Context Menu** - Right-click –Ω–∞ –≤—É–∑–ª—ñ
7. **Shortcuts Panel** - –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö —Å–∫–æ—Ä–æ—á–µ–Ω—å

---

**–°—Ç–∞—Ç—É—Å:** Properties Panel –∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ
**–§–∞–π–ª–∏:**
- `/home/vokov/motia-drn/tools/drakon-viewer/public/index.html`
- `/home/vokov/motia-drn/tools/drakon-viewer/public/css/style.css`
- `/home/vokov/motia-drn/tools/drakon-viewer/public/js/app.js`

**–î–∞—Ç–∞:** 2025-10-17
**–í–µ—Ä—Å—ñ—è:** 2.5 (Properties Panel Edition)
