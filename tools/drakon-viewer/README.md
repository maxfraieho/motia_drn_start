# –õ–æ–∫–∞–ª—å–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥–∞—á –î–†–ê–ö–û–ù-–¥—ñ–∞–≥—Ä–∞–º (DRAKON Viewer)

**–í–µ—Ä—Å—ñ—è:** 1.0
**–°—Ç–∞—Ç—É—Å:** Production-Ready

## üéØ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

**DRAKON Viewer** ‚Äî —Ü–µ –ª–æ–∫–∞–ª—å–Ω–∏–π –≤–µ–±-—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è –º–∏—Ç—Ç—î–≤–æ—ó –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –î–†–ê–ö–û–ù-–¥—ñ–∞–≥—Ä–∞–º, –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç—É Motia. –í—ñ–Ω –∑–∞–º—ñ–Ω—é—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ –æ–Ω–ª–∞–π–Ω-—Ä–µ–¥–∞–∫—Ç–æ—Ä–∏, –∑–Ω–∞—á–Ω–æ –ø—Ä–∏—Å–∫–æ—Ä—é—î —Ä–æ–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å —Ç–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø–æ–≤–Ω—É –∞–≤—Ç–æ–Ω–æ–º–Ω—ñ—Å—Ç—å.

## ‚ú® –ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **–õ–æ–∫–∞–ª—å–Ω–∏–π —Ö–æ—Å—Ç–∏–Ω–≥:** –ü—Ä–∞—Ü—é—î –Ω–∞ –≤–∞—à—ñ–π –º–∞—à–∏–Ω—ñ —á–µ—Ä–µ–∑ Nginx –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —ñ–Ω–¥–µ–∫—Å—É–≤–∞–Ω–Ω—è:** –°–∫—Ä–∏–ø—Ç `unified-motia-workflow.sh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –¥—ñ–∞–≥—Ä–∞–º –ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó.
- **–ü—Ä–æ—Å—Ç–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –ß–∏—Å—Ç–∏–π –¥–≤–æ–∫–æ–ª–æ–Ω–∫–æ–≤–∏–π –º–∞–∫–µ—Ç –¥–ª—è –∑—Ä—É—á–Ω–æ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó —Ç–∞ –ø–µ—Ä–µ–≥–ª—è–¥—É.
- **–ù—É–ª—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:** –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –æ–¥–Ω—ñ—î—é –∫–æ–º–∞–Ω–¥–æ—é, –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å.
- **–ü–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:** –Ñ –æ—Ä–≥–∞–Ω—ñ—á–Ω–æ—é —á–∞—Å—Ç–∏–Ω–æ—é –µ–∫–æ—Å–∏—Å—Ç–µ–º–∏ Motia.

## üöÄ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ —Ç—Ä—å–æ—Ö —á–∞—Å—Ç–∏–Ω:

1.  **–§—Ä–æ–Ω—Ç–µ–Ω–¥ (`public/`)**: –°—Ç–∞—Ç–∏—á–Ω–∏–π —Å–∞–π—Ç (HTML, CSS, JS), —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É `drakonwidget.js` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É –¥—ñ–∞–≥—Ä–∞–º.
2.  **–Ü–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä (`generate-diagram-index.sh`)**: Bash-—Å–∫—Ä–∏–ø—Ç, —è–∫–∏–π —Å–∫–∞–Ω—É—î –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `motia-output/steps`, –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —É—Å—ñ `.json` —Ñ–∞–π–ª–∏ –¥—ñ–∞–≥—Ä–∞–º —ñ —Å—Ç–≤–æ—Ä—é—î –∑ –Ω–∏—Ö —î–¥–∏–Ω–∏–π —ñ–Ω–¥–µ–∫—Å–Ω–∏–π —Ñ–∞–π–ª `public/diagrams.json`.
3.  **–°–µ—Ä–≤–µ—Ä (Nginx + Docker)**: –õ–µ–≥–∫–æ–≤–∞–≥–∏–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä, –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è —Ä–æ–∑–¥–∞—á—ñ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É —Ç–∞ —Ñ–∞–π–ª—ñ–≤ –¥—ñ–∞–≥—Ä–∞–º.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
tools/drakon-viewer/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style.css         # –°—Ç–∏–ª—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.js            # –õ–æ–≥—ñ–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ drakonwidget.js   # –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É (–ø–æ—Ç—Ä–µ–±—É—î –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è)
‚îÇ   ‚îú‚îÄ‚îÄ index.html            # –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ diagrams.json         # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π —ñ–Ω–¥–µ–∫—Å
‚îú‚îÄ‚îÄ generate-diagram-index.sh # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—É
‚îî‚îÄ‚îÄ README.md                 # –¶–µ–π —Ñ–∞–π–ª
```

## üõ†Ô∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### –ö—Ä–æ–∫ 1: –ó–∞–ø–æ–≤–Ω—ñ—Ç—å `drakonwidget.js` (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ)

–ß–µ—Ä–µ–∑ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º, –±—É–¥—å –ª–∞—Å–∫–∞, –≤—Ä—É—á–Ω—É –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —Ü–µ–π —Ñ–∞–π–ª:

1.  –ü–µ—Ä–µ–π–¥—ñ—Ç—å –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º: [drakonwidget.js –Ω–∞ GitHub](https://github.com/stepan-mitkin/drakonwidget/blob/main/js/drakonwidget.js)
2.  –°–∫–æ–ø—ñ—é–π—Ç–µ –≤–µ—Å—å –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É.
3.  –í—Å—Ç–∞–≤—Ç–µ –π–æ–≥–æ —É —Ñ–∞–π–ª: `tools/drakon-viewer/public/js/drakonwidget.js`.

### –ö—Ä–æ–∫ 2: –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –Ω–æ–≤—É –∫–æ–º–∞–Ω–¥—É –≤ –≥–æ–ª–æ–≤–Ω–æ–º—É —Å–∫—Ä–∏–ø—Ç—ñ:

```bash
./unified-motia-workflow.sh view
```

–¶—è –∫–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑ Nginx.

### –ö—Ä–æ–∫ 3: –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ

–ü–µ—Ä–µ–π–¥—ñ—Ç—å –∑–∞ –∞–¥—Ä–µ—Å–æ—é: **[http://localhost:8080](http://localhost:8080)**

## üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –¥—ñ–∞–≥—Ä–∞–º

–°–ø–∏—Å–æ–∫ –¥—ñ–∞–≥—Ä–∞–º —É –ø–µ—Ä–µ–≥–ª—è–¥–∞—á—ñ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ** —â–æ—Ä–∞–∑—É, –∫–æ–ª–∏ –≤–∏ —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω—É—î—Ç–µ –∫–æ–º–∞–Ω–¥—É `drakon`:

```bash
# –¶—è –∫–æ–º–∞–Ω–¥–∞ –∑–≥–µ–Ω–µ—Ä—É—î –¥—ñ–∞–≥—Ä–∞–º–∏ –Ü –æ–Ω–æ–≤–∏—Ç—å —ñ–Ω–¥–µ–∫—Å –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥–∞—á–∞
./unified-motia-workflow.sh drakon <–Ω–∞–∑–≤–∞-–∫—Ä–æ–∫—É>
```

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –ø—Ä–æ—Å—Ç–æ –æ–Ω–æ–≤—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä—ñ, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –Ω–æ–≤—ñ –¥—ñ–∞–≥—Ä–∞–º–∏.

## üêõ Troubleshooting

- **"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —ñ–Ω–¥–µ–∫—Å –¥—ñ–∞–≥—Ä–∞–º"**: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ —Ö–æ—á–∞ –± —Ä–∞–∑ –≤–∏–∫–æ–Ω–∞–ª–∏ –∫–æ–º–∞–Ω–¥—É `drakon`, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `public/diagrams.json`.
- **–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —É –≤–∞—Å Docker —Ç–∞ Docker Compose. –í–∏–∫–æ–Ω–∞–π—Ç–µ `docker-compose logs -f` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –ª–æ–≥–∏ Nginx.
- **–î—ñ–∞–≥—Ä–∞–º–∏ –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏ —Å–∫–æ–ø—ñ—é–≤–∞–ª–∏ –≤–º—ñ—Å—Ç `drakonwidget.js`.
